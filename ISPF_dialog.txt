'alloc fi(otfispf)' ISPF_unit 'new reuse dir(5) space(1,1)',
   'tracks dsorg(po) recfm(f,b) lrecl(80) blksize(3280)'

ADDRESS ISPEXEC

'CONTROL REFLIST NOUPDATE'
'LMINIT DATAID(ISPFID) DDNAME(otfispf)'
'CONTROL REFLIST UPDATE'
'LMOPEN DATAID('ISPFID') OPTION(OUTPUT)'

SIGNAL C104_Member;C104_Member:
mbr_line=SIGL+2;SIGNAL C104_Membero
MSG010 'ENTER THE PROGRAM NAME' .ALARM=YES
'THE PROGRAM NAME IS REQUIRED TO RETRIEVE THE LISTING'
MSG011 'FILE CHOICE IS BLANK' .ALARM=YES
'THE SELECTED FILE CHOICE, NUMBER &lfnum, IS BLANK'
MSG012 'DATASET NOT VALID' .ALARM=YES
'SELECTED DATASET &endsn IS NOT VALID'
MSG013 'DATASET NOT VALID' .ALARM=YES
'SELECTED DATASET &userddio IS NOT VALID'
MSG014 'Enter Required Field' .ALARM=YES
'Enter your Compuware Source Listing (DDIO) File'
MSG015 'Press Enter to continue' .ALARM=YES
'Press Enter to specify source listing file'
C104_Membero:
DO sub=mbr_line WHILE SOURCELINE(sub) ^= 'C104_Membero:'
   line = SOURCELINE(sub)
   'LMPUT DATAID('ISPFID') DATALOC(LINE) MODE(INVAR) DATALEN(80)'
END
'LMMADD DATAID('ISPFID') MEMBER(MSG01)'

/* Issue the LIBDEFs */
"LIBDEF ISPMLIB LIBRARY ID(OTFISPF) STACK"
"LIBDEF ISPPLIB LIBRARY ID(OTFISPF) STACK"
"LIBDEF ISPSLIB LIBRARY ID(OTFISPF) STACK"